{
  "metadata": {
    "prompt_id": "00000056",
    "row_id": 56,
    "seed_ids": [
      1055
    ],
    "mode": "algorithm"
  },
  "instruction": "**Scenario**: You are working on a project that requires generating Gray code sequences for various bit counts. The sequences are used in a digital communication system to ensure that only one bit changes between consecutive states.\n\n**Task**: Implement a function `generate_gray_code` that takes an integer \\( n \\) as input and returns a list of integers representing the \\( n \\)-bit Gray code sequence. The function should handle edge cases such as non-positive inputs and non-integer inputs.\n\n**Function Signature**: `def generate_gray_code(bit_count: int) -> List[int]:`\n\n**Input**:\n- \\( n \\) (1 \u2264 \\( n \\) \u2264 32): An integer representing the number of bits in the Gray code sequence.\n\n**Output**:\n- A list of integers representing the \\( n \\)-bit Gray code sequence.\n\n**Constraints**:\n- The function should handle inputs within the specified range.\n- The function should raise appropriate exceptions for invalid inputs.\n\n**Performance Requirements**:\n- The function should be efficient for \\( n \\leq 32 \\).\n\n**Example**:\n```python\n>>> generate_gray_code(2)\n[0, 1, 3, 2]\n>>> generate_gray_code(1)\n[0, 1]\n>>> generate_gray_code(3)\n[0, 1, 3, 2, 6, 7, 5, 4]\n```\n\n**Note**: You should not directly use the provided `gray_code` and `gray_code_sequence_string` functions. Implement your solution from scratch.\n\n**Hints**:\n- Consider the recursive nature of the problem and how you can build the sequence iteratively.",
  "solution_code": "from typing import List\n\ndef generate_gray_code(bit_count: int) -> List[int]:\n    \"\"\"\n    Generates an n-bit Gray code sequence.\n    \"\"\"\n    if not isinstance(bit_count, int) or bit_count <= 0:\n        raise ValueError(\"Input must be a positive integer.\")\n    \n    gray_code_sequence = [0]\n    \n    for i in range(bit_count):\n        gray_code_sequence.extend((1 << i) | x for x in reversed(gray_code_sequence))\n    \n    return gray_code_sequence",
  "test_code": "import pytest\nfrom solution import generate_gray_code\n\ndef test_generate_gray_code_with_edge_cases():\n    with pytest.raises(ValueError):\n        generate_gray_code(0)\n    with pytest.raises(ValueError):\n        generate_gray_code(-1)\n    with pytest.raises(ValueError):\n        generate_gray_code(3.5)\n\ndef test_generate_gray_code_with_small_values():\n    assert generate_gray_code(1) == [0, 1]\n    assert generate_gray_code(2) == [0, 1, 3, 2]\n    assert generate_gray_code(3) == [0, 1, 3, 2, 6, 7, 5, 4]\n\ndef testGenerateGrayCodeWithLargerValues():\n    assert generate_gray_code(4) == [0, 1, 3, 2, 6, 7, 5, 4, 12, 13, 15, 14, 10, 11, 9, 8]\n    assert generate_gray_code(5) == [0, 1, 3, 2, 6, 7, 5, 4, 12, 13, 15, 14, 10, 11, 9, 8, 16, 17, 19, 18, 22, 23, 21, 20, 14, 15, 13, 12, 8, 9, 7, 6]\n\ndef testGenerateGrayCodeWithLargeValue():\n    assert generate_gray_code(8) == [0, 1, 3, 2, 6, 7, 5, 4, 12, 13, 15, 14, 10, 11, 9, 8, 24, 25, 27, 26, 30, 31, 29, 28, 20, 21, 23, 22, 18, 19, 17, 16, 48, 49, 51, 50, 54, 55, 53, 52, 44, 45, 47, 46, 42, 43, 41, 40, 32, 33, 35, 34, 38, 39, 37, 36]",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results1.jsonl"
}