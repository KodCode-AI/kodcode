{
  "metadata": {
    "prompt_id": "00000086",
    "row_id": 86,
    "seed_ids": [
      181
    ],
    "mode": "algorithm"
  },
  "instruction": "You are working on a project that requires calculating various electrical properties in an electrical circuit. Your task is to extend the given `ind_reactance` function to handle an additional property, `capacitive reactance` (\\(X_C\\)), which is the reactance of a capacitor and is defined as \\(X_C = \\frac{1}{2\\pi fC}\\), where \\(f\\) is the frequency and \\(C\\) is the capacitance.\n\nYou need to implement a function `electrical_properties` that can calculate any one of the four properties: inductance (\\(L\\)), frequency (\\(f\\)), inductive reactance (\\(X_L\\)), or capacitive reactance (\\(X_C\\)), given the other three properties. Your function should validate the inputs and raise a `ValueError` if the inputs are invalid.\n\n**Function Signature**:\n```python\nfrom typing import Union\n\ndef electrical_properties(\n    l: float = None,\n    f: float = None,\n    x_l: float = None,\n    x_c: float = None,\n) -> Union[float, dict[str, float]]:\n    \"\"\"\n    Calculate one of the electrical properties (inductance, frequency, inductive reactance, or capacitive reactance)\n    given the other three properties. Exactly one property must be `None`.\n\n    Parameters:\n    l (float): Inductance in Henries.\n    f (float): Frequency in Hertz.\n    x_l (float): Inductive reactance in Ohms.\n    x_c (float): Capacitive reactance in Ohms.\n    \n    Returns:\n    Union[float, dict[str, float]]: The calculated property as a float or a dictionary with the calculated property.\n    \n    Raises:\n    ValueError: If more than one property is `None` or if any of the given values are negative.\n    \"\"\"\n```\n\n**Example Usage**:\n```python\n# Calculate inductance given frequency and inductive reactance\nprint(electrical_properties(f=1000, x_l=219.9, l=None))  # {'inductance': 35.0e-6}\n\n# Calculate frequency given inductance and inductive reactance\nprint(electrical_properties(l=35e-6, x_l=219.9, f=None))  # {'frequency': 1000.0}\n\n# Calculate inductive reactance given inductance and frequency\nprint(electrical_properties(l=35e-6, f=1000, x_l=None))  # {'inductive reactance': 219.9}\n\n# Calculate capacitance given frequency and capacitive reactance\nprint(electrical_properties(f=1000, x_c=50, c=None))  # {'capacitance': 636619.7723675814e-9}\n\n# Example with invalid inputs\n# print(electrical_properties(f=-1000, x_c=50, c=None))  # Raises ValueError: Frequency cannot be negative\n```\n\n**Constraints**:\n- The input values should be within the range of typical electrical values.\n- The function should handle edge cases such as negative values and ensure only one property is `None`.",
  "solution_code": "from typing import Union\n\ndef electrical_properties(\n    l: float = None,\n    f: float = None,\n    x_l: float = None,\n    x_c: float = None,\n) -> Union[float, dict[str, float]]:\n    \"\"\"\n    Calculate one of the electrical properties (inductance, frequency, inductive reactance, or capacitive reactance)\n    given the other three properties. Exactly one property must be `None`.\n\n    Parameters:\n    l (float): Inductance in Henries.\n    f (float): Frequency in Hertz.\n    x_l (float): Inductive reactance in Ohms.\n    x_c (float): Capacitive reactance in Ohms.\n    \n    Returns:\n    Union[float, dict[str, float]]: The calculated property as a float or a dictionary with the calculated property.\n    \n    Raises:\n    ValueError: If more than one property is `None` or if any of the given values are negative.\n    \"\"\"\n    if sum(param is None for param in (l, f, x_l, x_c)) != 1:\n        raise ValueError(\"Exactly one property must be None.\")\n    \n    if any(param is not None and param < 0 for param in (l, f, x_l, x_c)):\n        raise ValueError(\"All given values must be non-negative.\")\n    \n    if l is None:\n        if x_c is not None:\n            l = 1 / (2 * 3.141592653589793 * f * x_c)\n            return {'inductance': l}\n        else:\n            l = x_l / (2 * 3.141592653589793 * f)\n            return {'inductance': l}\n    elif f is None:\n        if x_c is not None:\n            f = 1 / (2 * 3.141592653589793 * x_c * l)\n            return {'frequency': f}\n        else:\n            f = x_l / (2 * 3.141592653589793 * l)\n            return {'frequency': f}\n    elif x_l is None:\n        if x_c is not None:\n            x_l = 1 / (2 * 3.141592653589793 * f * l)\n            return {'inductive reactance': x_l}\n        else:\n            x_l = 2 * 3.141592653589793 * f * l\n            return {'inductive reactance': x_l}\n    elif x_c is None:\n        x_c = 1 / (2 * 3.141592653589793 * f * l)\n        return {'capacitance': 1 / (2 * 3.141592653589793 * f * x_c)}",
  "test_code": "import pytest\n\ndef test_electrical_properties_inductance():\n    result = electrical_properties(f=1000.0, x_l=219.9, l=None)\n    assert result == {'inductance': 35.0e-6}\n\ndef test_electrical_properties_frequency():\n    result = electrical_properties(l=35e-6, x_l=219.9, f=None)\n    assert result == {'frequency': 1000.0}\n\ndef test_electrical_properties_inductive_reactance():\n    result = electrical_properties(l=35e-6, f=1000, x_l=None)\n    assert result == {'inductive reactance': 219.9}\n\ndef test_electrical_properties_capacitance():\n    result = electrical_properties(f=1000, x_c=50, c=None)\n    assert result == {'capacitance': 636619.7723675814e-9}\n\ndef test_electrical_properties_negative_input():\n    with pytest.raises(ValueError):\n        electrical_properties(f=-1000, x_c=50, c=None)\n\ndef test_electrical_properties_more_than_one_none():\n    with pytest.raises(ValueError):\n        electrical_properties(f=1000, x_c=None, c=None)\n\ndef test_electrical_properties_all_properties_given():\n    with pytest.raises(ValueError):\n        electrical_properties(f=1000, x_c=50, c=636619.7723675814e-9, l=35e-6)",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results2.jsonl"
}