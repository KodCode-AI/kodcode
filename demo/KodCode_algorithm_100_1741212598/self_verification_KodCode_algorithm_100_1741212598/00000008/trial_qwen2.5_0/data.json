{
  "metadata": {
    "prompt_id": "00000008",
    "row_id": 8,
    "seed_ids": [
      327
    ],
    "mode": "algorithm"
  },
  "instruction": "You are given a singly linked list, and your task is to implement a function `detect_cycle` that detects whether a cycle exists in the linked list using Floyd's cycle detection algorithm.\n\n#### Function Signature\n\n```python\ndef detect_cycle(linked_list: LinkedList) -> bool:\n    pass\n```\n\n#### Input\n- `linked_list` (LinkedList): A singly linked list instance.\n\n#### Output\n- `bool`: `True` if a cycle exists in the linked list, otherwise `False`.\n\n#### Constraints\n- The linked list can contain up to \\(10^5\\) nodes.\n- Each node's data is an integer ranging from \\(-10^6\\) to \\(10^6\\).\n\n#### Performance Requirements\n- The function should run in \\(O(n)\\) time complexity.\n- The function should use \\(O(1)\\) space complexity.\n\n#### Example\n\n```python\nlinked_list = LinkedList()\nlinked_list.add_node(1)\nlinked_list.add_node(2)\nlinked_list.add_node(3)\nlinked_list.add_node(4)\n\n# Create a cycle in the linked list\nlinked_list.head.next_node.next_node.next_node = linked_list.head.next_node\n\nassert detect_cycle(linked_list) == True\n\nlinked_list2 = LinkedList()\nlinked_list2.add_node(1)\n\nassert detect_cycle(linked_list2) == False\n```\n\n### Additional Requirements\n\n- Ensure your implementation handles edge cases such as an empty list and a list with only one node.\n- Avoid any potential type errors by checking for `None` values before accessing `next_node`.",
  "solution_code": "class Node:\n    def __init__(self, data):\n        self.data = data\n        self.next_node = None\n\nclass LinkedList:\n    def __init__(self):\n        self.head = None\n\n    def add_node(self, data):\n        new_node = Node(data)\n        if not self.head:\n            self.head = new_node\n        else:\n            current = self.head\n            while current.next_node:\n                current = current.next_node\n            current.next_node = new_node\n\ndef detect_cycle(linked_list: LinkedList) -> bool:\n    if not linked_list.head:\n        return False\n\n    slow_runner = linked_list.head\n    fast_runner = linked_list.head\n\n    while fast_runner and fast_runner.next_node:\n        slow_runner = slow_runner.next_node\n        fast_runner = fast_runner.next_node.next_node\n\n        if slow_runner == fast_runner:\n            return True\n\n    return False",
  "test_code": "import pytest\n\nclass TestDetectCycle:\n    def setup_method(self):\n        self.empty_list = LinkedList()\n        self.single_node_list = LinkedList()\n        self.single_node_list.add_node(1)\n        self.cycle_list = LinkedList()\n        self.cycle_list.add_node(1)\n        self.cycle_list.add_node(2)\n        self.cycle_list.add_node(3)\n        self.cycle_list.add_node(4)\n        self.cycle_list.head.next_node.next_node.next_node = self.cycle_list.head.next_node\n\n    def test_empty_list(self):\n        assert detect_cycle(self.empty_list) == False\n\n    def test_single_node_list(self):\n        assert detect_cycle(self.single_node_list) == False\n\n    def test_cycle_list(self):\n        assert detect_cycle(self.cycle_list) == True\n\n    def test_no_cycle_list(self):\n        no_cycle_list = LinkedList()\n        no_cycle_list.add_node(1)\n        no_cycle_list.add_node(2)\n        no_cycle_list.add_node(3)\n        no_cycle_list.add_node(4)\n        no_cycle_list.add_node(5)\n        assert detect_cycle(no_cycle_list) == False",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results0.jsonl"
}