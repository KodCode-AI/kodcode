{
  "metadata": {
    "prompt_id": "00000053",
    "row_id": 53,
    "seed_ids": [
      595
    ],
    "mode": "algorithm"
  },
  "instruction": "You are working on a game where a player draws discs from a bag containing one red and one blue disc. After each draw, one additional red disc is added to the bag, and the player draws again. The player wins if they draw more blue discs than red discs after a specified number of turns. The banker wants to set a prize fund such that the expected loss is minimized.\n\nGiven the number of turns `num_turns`, write a Python function `max_prize_fund` to determine the maximum prize fund that should be allocated for a single game. The function should calculate the probability of the player winning and then determine the prize fund that makes the expected loss zero, considering the original \u00a31 paid to play the game.\n\n**Function Signature**: `def max_prize_fund(num_turns: int) -> int:`\n\n**Input**:\n- `num_turns` (1 \u2264 num_turns \u2264 20): An integer representing the number of turns in the game.\n\n**Output**:\n- An integer representing the maximum prize fund that should be allocated for a single game.\n\n**Example**:\n```python\n>>> max_prize_fund(4)\n10\n>>> max_prize_fund(10)\n225\n```\n\n**Note**:\n- The function should return the maximum prize fund as an integer.\n- The probability of the player winning is calculated using combinatorial methods similar to the provided solution.",
  "solution_code": "from math import comb\n\ndef max_prize_fund(num_turns: int) -> int:\n    \"\"\"\n    Calculates the maximum prize fund such that the expected loss is minimized.\n    The player wins if they draw more blue discs than red discs after num_turns.\n    The function returns the prize fund as an integer.\n    \"\"\"\n    max_fund = 0\n    for i in range(1, num_turns + 1):\n        # Calculate the number of ways to win (more blue than red)\n        blue_more_than_red = 0\n        for blue_draws in range(1, i // 2 + 1):\n            red_draws = i - 2 * blue_draws\n            if i % 2 == 0 and red_draws < blue_draws:\n                continue\n            ways_to_win = comb(blue_draws + red_draws, blue_draws) * comb(red_draws + 1, red_draws + 1)\n            blue_more_than_red += ways_to_win\n        # Total number of ways to draw i discs\n        total_ways = comb(2 * i - 1, i)\n        # Probability of winning\n        prob_win = blue_more_than_red / total_ways\n        # Calculate the prize fund\n        fund = int(1 / prob_win)  # Since the loss is \u00a31\n        max_fund = max(max_fund, fund)\n    return max_fund",
  "test_code": "import math\nfrom solution import max_prize_fund\n\ndef test_max_prize_fund():\n    assert max_prize_fund(1) == 1, \"Test case num_turns=1 failed\"\n    assert max_prize_fund(4) == 10, \"Test case num_turns=4 failed\"\n    assert max_prize_fund(10) == 225, \"Test case num_turns=10 failed\"\n    assert max_prize_fund(5) == 31, \"Test case num_turns=5 failed\"\n    assert max_prize_fund(2) == 3, \"Test case num_turns=2 failed\"\n    assert max_prize_fund(3) == 7, \"Test case num_turns=3 failed\"\n\ndef test_combinations():\n    assert comb(5, 2) == 10, \"Comb(5, 2) test failed\"\n    assert comb(6, 3) == 20, \"Comb(6, 3) test failed\"\n    assert comb(8, 4) == 70, \"Comb(8, 4) test failed\"\n\ntest_max_prize_fund()\ntest_combinations()",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results0.jsonl"
}