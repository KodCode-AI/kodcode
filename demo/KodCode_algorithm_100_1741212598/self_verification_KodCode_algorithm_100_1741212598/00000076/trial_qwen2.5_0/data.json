{
  "metadata": {
    "prompt_id": "00000076",
    "row_id": 76,
    "seed_ids": [
      650
    ],
    "mode": "algorithm"
  },
  "instruction": "You are tasked with implementing a function `hex_to_bin_v2` that converts a hexadecimal value to its binary equivalent. The function should handle the following cases:\n\n* Leading and trailing whitespace in the input string should be stripped.\n* The input string must represent a valid hexadecimal number. If the input string contains invalid characters or is not a valid hexadecimal number, the function should raise a `ValueError` with an appropriate message.\n* The function should handle negative numbers correctly by preserving the sign during conversion.\n\nYour function should meet the following requirements:\n\n* Input: A string representing a hexadecimal number (optionally with leading/trailing whitespace).\n* Output: A string representing the binary equivalent of the input hexadecimal number.\n* Constraints:\n  - The input string will be between 1 and 1000 characters long.\n  - The input string will contain only hexadecimal digits (0-9, a-f, A-F) and optional leading/trailing whitespace.\n\nExample usage:\n\n```python\nprint(hex_to_bin_v2(\"AC\"))  # Output: \"10101100\"\nprint(hex_to_bin_v2(\"9A4\"))  # Output: \"100110100100\"\nprint(hex_to_bin_v2(\"   12f   \"))  # Output: \"100101111\"\nprint(hex_to_bin_v2(\"FfFf\"))  # Output: \"1111111111111111\"\nprint(hex_to_bin_v2(\"-fFfF\"))  # Output: \"-1111111111111111\"\n```\n\nIf the input string contains invalid characters or is not a valid hexadecimal number, your function should raise a `ValueError` with a message indicating the issue.\n\n```python\nprint(hex_to_bin_v2(\"G1\"))  # ValueError: Invalid value was passed to the function\nprint(hex_to_bin_v2(\"\"))  # ValueError: No value was passed to the function\n```",
  "solution_code": "def hex_to_bin_v2(hex_val: str) -> str:\n    \"\"\"\n    Converts a hexadecimal value (possibly with whitespace) to its binary equivalent.\n    \n    Raises ValueError if the input is not a valid hexadecimal number.\n    \"\"\"\n    # Remove leading and trailing whitespace\n    hex_val = hex_val.strip()\n    \n    # Check if the input is empty after stripping whitespace\n    if not hex_val:\n        raise ValueError(\"No value was passed to the function\")\n    \n    # Validate if the input is a valid hexadecimal number\n    valid_hex = set(\"0123456789abcdefABCDEF\")\n    if not all(char in valid_hex for char in hex_val):\n        raise ValueError(f\"Invalid value was passed to the function: {hex_val}\")\n    \n    # Handle negative numbers correctly\n    is_negative = hex_val.startswith('-')\n    if is_negative:\n        hex_val = hex_val[1:]\n    \n    # Convert hexadecimal to binary\n    binary_val = bin(int(hex_val, 16))[2:]\n    \n    # Add back the negative sign if needed\n    if is_negative:\n        binary_val = '-' + binary_val\n    \n    return binary_val",
  "test_code": "def test_hex_to_bin_v2():\n    assert hex_to_bin_v2(\"AC\") == \"10101100\"\n    assert hex_to_bin_v2(\"9A4\") == \"100110100100\"\n    assert hex_to_bin_v2(\"   12f   \") == \"100101111\"\n    assert hex_to_bin_v2(\"FfFf\") == \"1111111111111111\"\n    assert hex_to_bin_v2(\"-fFfF\") == \"-1111111111111111\"\n    \n    # Test cases for invalid input\n    try:\n        hex_to_bin_v2(\"G1\")\n        assert False, \"Expected ValueError for invalid hexadecimal input\"\n    except ValueError as e:\n        assert str(e) == \"Invalid value was passed to the function: G1\"\n    \n    try:\n        hex_to_bin_v2(\"\")\n        assert False, \"Expected ValueError for empty string\"\n    except ValueError as e:\n        assert str(e) == \"No value was passed to the function\"\n\n# Run tests\ntest_hex_to_bin_v2()",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results0.jsonl"
}