{
  "metadata": {
    "prompt_id": "00000024",
    "row_id": 24,
    "seed_ids": [
      650
    ],
    "mode": "algorithm"
  },
  "instruction": "Design a function `hex_to_bin_optimized` that converts a given hexadecimal string to its binary representation. The function should handle the following:\n\n- **Input**: A string representing a hexadecimal number (potentially with leading/trailing whitespace).\n- **Output**: A string representing the binary equivalent of the hexadecimal number.\n- **Constraints**:\n  - The input string can be in the range `1 <= len(input_string) <= 1000`.\n  - The input string may contain leading and trailing whitespace, and may be prefixed with a `-` for negative numbers.\n- **Performance Requirements**: Optimize the function for better performance, especially for large input strings.\n\nYour task is to implement the function `hex_to_bin_optimized` which should be more efficient than the provided `hex_to_bin` function.\n\n```python\ndef hex_to_bin_optimized(hex_num: str) -> str:\n    \"\"\"\n    Convert a hexadecimal value to its binary equivalent, optimized for performance.\n    >>> hex_to_bin_optimized(\"AC\")\n    \"10101100\"\n    >>> hex_to_bin_optimized(\"9A4\")\n    \"100110100100\"\n    >>> hex_to_bin_optimized(\"   12f   \")\n    \"100101111\"\n    >>> hex_to_bin_optimized(\"FfFf\")\n    \"1111111111111111\"\n    >>> hex_to_bin_optimized(\"-fFfF\")\n    \"-1111111111111111\"\n    >>> hex_to_bin_optimized(\"F-f\")\n    Traceback (most recent call last):\n        ...\n    ValueError: Invalid value was passed to the function\n    >>> hex_to_bin_optimized(\"\")\n    Traceback (most recent call last):\n        ...\n    ValueError: No value was passed to the function\n    \"\"\"\n\n    # Your implementation here\n\nif __name__ == \"__main__\":\n    import doctest\n\n    doctest.testmod()\n```\n\nNote: You should aim to use bitwise operations to enhance performance and handle the conversion more efficiently.",
  "solution_code": "def hex_to_bin_optimized(hex_num: str) -> str:\n    \"\"\"\n    Convert a hexadecimal value to its binary equivalent, optimized for performance.\n    \"\"\"\n    # Remove leading/trailing whitespace\n    hex_num = hex_num.strip()\n    \n    # Check for negative numbers\n    if hex_num.startswith('-'):\n        hex_num = hex_num[1:]\n        bin_out = '-'\n    else:\n        bin_out = ''\n    \n    # Hex to Bin Conversion\n    hex_to_bin_map = {\n        '0': '0000', '1': '0001', '2': '0010', '3': '0011',\n        '4': '0100', '5': '0101', '6': '0110', '7': '0111',\n        '8': '1000', '9': '1001', 'A': '1010', 'B': '1011',\n        'C': '1100', 'D': '1101', 'E': '1110', 'F': '1111'\n    }\n    \n    for char in hex_num.upper():\n        if char in hex_to_bin_map:\n            bin_out += hex_to_bin_map[char]\n        else:\n            raise ValueError(\"Invalid value was passed to the function\")\n    \n    return bin_out",
  "test_code": "def test_hex_to_bin_optimized():\n    assert hex_to_bin_optimized(\"AC\") == \"10101100\"\n    assert hex_to_bin_optimized(\"9A4\") == \"100110100100\"\n    assert hex_to_bin_optimized(\"   12f   \") == \"100101111\"\n    assert hex_to_bin_optimized(\"FfFf\") == \"1111111111111111\"\n    assert hex_to_bin_optimized(\"-fFfF\") == \"-1111111111111111\"\n    try:\n        hex_to_bin_optimized(\"F-f\")\n        assert False, \"Expected ValueError\"\n    except ValueError:\n        pass\n    try:\n        hex_to_bin_optimized(\"\")\n        assert False, \"Expected ValueError\"\n    except ValueError:\n        pass\n\nif __name__ == \"__main__\":\n    import pytest\n\n    pytest.main(['-q', __file__])",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results2.jsonl"
}