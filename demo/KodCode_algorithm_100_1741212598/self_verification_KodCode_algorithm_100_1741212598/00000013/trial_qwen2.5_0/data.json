{
  "metadata": {
    "prompt_id": "00000013",
    "row_id": 13,
    "seed_ids": [
      714
    ],
    "mode": "algorithm"
  },
  "instruction": "You are required to implement a function that calculates the Manhattan distance between two points in an n-dimensional space. The function should be efficient and robust, handling various edge cases and providing meaningful error messages.\n\n**Requirements**:\n- Your function should be named `manhattan_distance_improved` and should take two parameters: `point_a` and `point_b`, both of which are lists of numbers representing points in the same n-dimensional space.\n- It should raise a `ValueError` if the points do not have the same number of dimensions.\n- It should raise a `TypeError` if the inputs are not lists of numbers.\n- The function should return a float representing the Manhattan distance.\n\n**Example Usage**:\n```python\n>>> manhattan_distance_improved([1,1], [2,2])\n2.0\n>>> manhattan_distance_improved([1.5,1.5], [2,2])\n1.0\n>>> manhattan_distance_improved([1.5,1.5], [2.5,2])\n1.5\n>>> manhattan_distance_improved([-3, -3, -3], [0, 0, 0])\n9.0\n>>> manhattan_distance_improved([1,1], None)\nTraceback (most recent call last):\n    ...\nValueError: Missing an input\n>>> manhattan_distance_improved([1,1], [2, 2, 2])\nTraceback (most recent call last):\n    ...\nValueError: Both points must be in the same n-dimensional space\n>>> manhattan_distance_improved([1, \"one\"], [2, 2, 2])\nTraceback (most recent call last):\n    ...\nTypeError: Expected a list of numbers as input, found str\n```\n\n**Performance Requirements**:\n- Your implementation should handle points with up to 1000 dimensions efficiently.\n\n**Note**: You are encouraged to use list comprehension and built-in functions for a concise and efficient implementation.",
  "solution_code": "def manhattan_distance_improved(point_a, point_b):\n    \"\"\"\n    Calculate the Manhattan distance between two points in an n-dimensional space.\n\n    Parameters:\n    point_a (list): The first point in the n-dimensional space.\n    point_b (list): The second point in the n-dimensional space.\n\n    Returns:\n    float: The Manhattan distance between point_a and point_b.\n\n    Raises:\n    ValueError: If the points do not have the same number of dimensions.\n    TypeError: If the inputs are not lists of numbers.\n    \"\"\"\n    # Check if inputs are lists\n    if not isinstance(point_a, list) or not isinstance(point_b, list):\n        raise TypeError(\"Expected a list of numbers as input, found {}\".format(type(point_a).__name__))\n\n    # Check if all elements in the lists are numbers\n    if not all(isinstance(coord, (int, float)) for coord in point_a) or not all(isinstance(coord, (int, float)) for coord in point_b):\n        raise TypeError(\"Expected a list of numbers as input\")\n\n    # Check if points have the same number of dimensions\n    if len(point_a) != len(point_b):\n        raise ValueError(\"Both points must be in the same n-dimensional space\")\n\n    # Calculate the Manhattan distance\n    return sum(abs(a - b) for a, b in zip(point_a, point_b))",
  "test_code": "import pytest\n\ndef test_manhattan_distance_improved_positive_numbers():\n    assert manhattan_distance_improved([1, 1], [2, 2]) == 2.0\n\ndef test_manhattan_distance_improved_mixed_dimensions():\n    assert manhattan_distance_improved([1.5, 1.5], [2, 2]) == 1.0\n\ndef test_manhattan_distance_improved_mixed_dimensions_2():\n    assert manhattan_distance_improved([1.5, 1.5], [2.5, 2]) == 1.5\n\ndef test_manhattan_distance_improved_large_dimensions():\n    assert manhattan_distance_improved([0, 0, 0, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]) == 1.0\n\ndef test_manhattan_distance_improved_input_validation():\n    with pytest.raises(TypeError):\n        manhattan_distance_improved([1, 1], None)\n\n    with pytest.raises(ValueError):\n        manhattan_distance_improved([1, 1], [2, 2, 2])\n\n    with pytest.raises(TypeError):\n        manhattan_distance_improved([1, \"one\"], [2, 2, 2])",
  "file_source": "KodCode_questions2sv_algorithm_100_1741212598_sanitized_prepared_results0.jsonl"
}