{
  "metadata": {
    "prompt_id": "00000113",
    "row_id": 113,
    "seed_ids": [
      0
    ],
    "mode": "prefill"
  },
  "instruction": "Write a python function to find the largest rectangle in a histogram.",
  "solution_code": "To find the largest rectangle in a histogram, we can use a stack-based approach. The idea is to maintain a stack of indices of the histogram bars, ensuring that the heights of the bars are in non-decreasing order. While iterating through the histogram, if we encounter a bar that is shorter than the bar at the index on top of the stack, it means we can calculate the area of a rectangle with the top bar as the shortest bar. We then pop the stack, calculate the area, and update the maximum area if needed. This process continues until we have processed all the bars.\n\ndef largest_rectangle_in_histogram(heights):\n    \"\"\"\n    Finds the largest rectangle in a histogram.\n    Args:\n    heights: A list of integers representing the heights of the histogram bars.\n\n    Returns:\n    The area of the largest rectangle in the histogram.\n    \"\"\"\n    if not heights:\n        return 0\n\n    stack = [-1]  # Initialize the stack with a sentinel value -1\n    max_area = 0\n\n    for i, h in enumerate(heights):\n        # Pop from stack until the current bar is not taller than the bar at the\n        # index on top of the stack\n        while stack[-1] != -1 and heights[stack[-1]] >= h:\n            height = heights[stack.pop()]\n            # Compute the width of the rectangle with the popped height\n            width = i - stack[-1] - 1\n            max_area = max(max_area, height * width)\n        stack.append(i)\n\n    # Process the remaining bars in the stack\n    while stack[-1] != -1:\n        height = heights[stack.pop()]\n        width = len(heights) - stack[-1] - 1\n        max_area = max(max_area, height * width)\n\n    return max_area",
  "test_code": "from solution import largest_rectangle_in_histogram\n\ndef test_rectangle_single_bar():\n    heights = [5]\n    expected_area = 5\n    assert largest_rectangle_in_histogram(heights) == expected_area\n\ndef test_rectangle_two_tall_bars():\n    heights = [2, 2]\n    expected_area = 4\n    assert largest_rectangle_in_histogram(heights) == expected_area\n\ndef test_rectangle_decreasing_heights():\n    heights = [2, 1, 5, 6, 2, 3]\n    expected_area = 10\n    # The largest rectangle is formed by the last two bars with height 5 and 6\n    assert largest_rectangle_in_histogram(heights) == expected_area\n\ndef test_rectangle_mixed_heights():\n    heights = [1, 3, 1, 4, 2, 1]\n    expected_area = 6\n    assert largest_rectangle_in_histogram(heights) == expected_area\n\ndef test_rectangle_downwards_slope():\n    heights = [6, 2, 5, 4, 5, 1, 6]\n    expected_area = 12\n    assert largest_rectangle_in_histogram(heights) == expected_area\n\ndef test_rectangle_all_zero():\n    heights = [0, 0, 0, 0]\n    expected_area = 0\n    assert largest_rectangle_in_histogram(heights) == expected_area\n\ndef test_rectangle_all_same_height():\n    heights = [5, 5, 5, 5]\n    expected_area = 16\n    assert largest_rectangle_in_histogram(heights) == expected_area",
  "file_source": "KodCode_prefill_200_1741214325_sanitized_prepared_results1.jsonl"
}