{
  "metadata": {
    "prompt_id": "00000010",
    "row_id": 10,
    "seed_ids": [
      "689",
      "2075",
      "1670"
    ],
    "mode": "leetcode"
  },
  "instruction": "Design a data structure to manage a collection of intervals with the following operations:\n\n- `addInterval(start, end)`: Add a new interval `[start, end]` to the collection.\n- `mergeOverlappingIntervals()`: Merge all overlapping intervals in the collection and return the merged intervals.\n- `removeInterval(start, end)`: Remove the interval `[start, end]` from the collection if it exists.\n- `getIntervals()`: Return the current collection of intervals.\n\nImplement the `IntervalManager` class:\n\n- `IntervalManager()`: Initializes the interval manager.\n- `void addInterval(int start, int end)`: Adds a new interval `[start, end]` to the collection. Ensure no duplicate intervals are added.\n- `List<int[]> mergeOverlappingIntervals()`: Merges all overlapping intervals in the collection and returns the merged intervals as a list of `[start, end]` pairs.\n- `void removeInterval(int start, int end)`: Removes the interval `[start, end]` from the collection if it exists.\n- `List<int[]> getIntervals()`: Returns the current collection of intervals as a list of `[start, end]` pairs.\n\n**Note**: Intervals are represented as `[start, end]` where `start` and `end` are inclusive. The intervals are sorted by their start time.",
  "solution_code": "from typing import List\n\nclass IntervalManager:\n    def __init__(self):\n        self.intervals = []\n\n    def addInterval(self, start: int, end: int) -> None:\n        \"\"\"\n        Adds a new interval [start, end] to the collection if it does not already exist.\n        \"\"\"\n        for s, e in self.intervals:\n            if s <= start <= e or s <= end <= e or start <= s <= end or start <= e <= end:\n                return\n        self.intervals.append([start, end])\n        self.intervals.sort(key=lambda x: x[0])\n\n    def mergeOverlappingIntervals(self) -> List[int]:\n        \"\"\"\n        Merges all overlapping intervals in the collection and returns the merged intervals.\n        \"\"\"\n        merged = []\n        for interval in self.intervals:\n            if not merged or merged[-1][1] < interval[0]:\n                merged.append(interval)\n            else:\n                merged[-1][1] = max(merged[-1][1], interval[1])\n        self.intervals = merged\n        return self.intervals\n\n    def removeInterval(self, start: int, end: int) -> None:\n        \"\"\"\n        Removes the interval [start, end] from the collection if it exists.\n        \"\"\"\n        self.intervals = [i for i in self.intervals if i[0] > end or i[1] < start]\n        self.mergeOverlappingIntervals()\n\n    def getIntervals(self) -> List[int]:\n        \"\"\"\n        Returns the current collection of intervals.\n        \"\"\"\n        return self.intervals",
  "test_code": "from solution import IntervalManager\n\ndef test_interval_manager():\n    manager = IntervalManager()\n    manager.addInterval(1, 3)\n    manager.addInterval(6, 9)\n    assert manager.getIntervals() == [[1, 3], [6, 9]]\n\n    manager.addInterval(2, 5)\n    assert manager.getIntervals() == [[1, 5], [6, 9]]\n\n    manager.mergeOverlappingIntervals()\n    assert manager.getIntervals() == [[1, 5], [6, 9]]\n\n    manager.removeInterval(1, 5)\n    assert manager.getIntervals() == [[6, 9]]\n\n    manager.addInterval(15, 18)\n    manager.addInterval(10, 12)\n    assert manager.getIntervals() == [[6, 9], [10, 12], [15, 18]]\n\n    manager.removeInterval(10, 11)\n    assert manager.getIntervals() == [[6, 9], [11, 12], [15, 18]]",
  "file_source": "KodCode_questions2sv_leetcode_100_1741214688_sanitized_prepared_results0.jsonl"
}